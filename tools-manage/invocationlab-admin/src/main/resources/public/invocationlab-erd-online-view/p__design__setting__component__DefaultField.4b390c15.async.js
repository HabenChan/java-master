"use strict";(self.webpackChunkInvocationlab_ERD_Online=self.webpackChunkInvocationlab_ERD_Online||[]).push([[8522],{54427:function(k,v,n){n.d(v,{Z:function(){return A}});var f=n(87006),d=n(98404),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},u=c,a=n(41566),M=function(C,O){return d.createElement(a.Z,(0,f.Z)({},C,{ref:O,icon:u}))},A=d.forwardRef(M)},68999:function(k,v,n){n.d(v,{Z:function(){return W}});var f=n(98404),d=n(4444),c=n.n(d),u=n(44766),a=n.n(u),M=n(23744),A=n(41929),T=n(85455),C=n(75687),O=n(77662),Z=n(5049),E=n(28307),p=n(43878),s=n(36422),N=function(j){var R=(0,C.ZP)(function(o){var e,i,r,l,g,h;return{syncing:o.syncing,setSyncing:o.dispatch.setSyncing,datatype:(e=o.project)===null||e===void 0||(i=e.projectJSON)===null||i===void 0||(r=i.dataTypeDomains)===null||r===void 0?void 0:r.datatype,database:(l=o.project)===null||l===void 0||(g=l.projectJSON)===null||g===void 0||(h=g.dataTypeDomains)===null||h===void 0?void 0:h.database}},O.Z),I=R.syncing,m=R.setSyncing,y=R.datatype,w=R.database,S=j.data,P=j.columns,$=j.saveData,x=j.notEmptyColumn,D=function(e){I||!e||e.length===0||(x&&(e=a().reject(e,function(i){var r=a().findIndex(x,function(l){return!i[l]||i[l]==""});return r>-1})),$(e))},t=(0,f.useRef)(null),X=[{title:"\u590D\u5236",description:"Windows\uFF1ACtrl + C              |             Mac\uFF1Acommand + C"},{title:"\u7C98\u8D34",description:"Windows\uFF1ACtrl + V              |             Mac\uFF1Acommand + V"},{title:"\u526A\u5207",description:"Windows\uFF1ACtrl + X              |             Mac\uFF1Acommand + X"},{title:"\u64A4\u9500",description:"Windows\uFF1ACtrl + Z              |            Mac\uFF1Acommand + Z"},{title:"\u91CD\u505A",description:"Windows\uFF1ACtrl + Shit + Z              |            Mac\uFF1Acommand + Shit + Z"}],Y={data:S,columns:P,allowExport:!1,minDimensions:[1,1],csvHeaders:!0,columnResize:!0,search:!0,toolbar:[{type:"i",content:"undo",tooltip:"\u64A4\u9500",onclick:function(){var e;t==null||(e=t.current)===null||e===void 0||e.jexcel.undo()}},{type:"i",content:"redo",tooltip:"\u91CD\u505A",onclick:function(){var e;t==null||(e=t.current)===null||e===void 0||e.jexcel.redo()}},{type:"i",content:"add",tooltip:"\u672B\u5C3E\u589E\u52A0\u4E00\u884C",onclick:function(){var e;t==null||(e=t.current)===null||e===void 0||e.jexcel.insertRow()}},{type:"i",content:"remove",tooltip:"\u5220\u9664\u9009\u4E2D\u884C",onclick:function(){var e;t==null||(e=t.current)===null||e===void 0||e.jexcel.deleteRow()}},{type:"i",content:"publish",tooltip:"\u5728\u6B64\u524D\u63D2\u5165\u884C",onclick:function(){var e,i,r,l=t==null||(e=t.current)===null||e===void 0?void 0:e.jexcel.getSelectedRows();if(!l||!((i=l[0])!==null&&i!==void 0&&i.dataset)){Z.ZP.warning("\u672A\u9009\u4E2D\u884C");return}t==null||(r=t.current)===null||r===void 0||r.jexcel.insertRow(1,parseInt(l[0].dataset.y),1)}},{type:"i",content:"get_app",tooltip:"\u5728\u6B64\u540E\u63D2\u5165\u884C",onclick:function(){var e,i,r,l=t==null||(e=t.current)===null||e===void 0?void 0:e.jexcel.getSelectedRows();if(!l||!((i=l[l.length-1])!==null&&i!==void 0&&i.dataset)){Z.ZP.warning("\u672A\u9009\u4E2D\u884C");return}t==null||(r=t.current)===null||r===void 0||r.jexcel.insertRow(1,parseInt(l[l.length-1].dataset.y))}},{type:"i",content:"help_outline",tooltip:"\u5FEB\u6377\u64CD\u4F5C",onclick:function(){E.Z.info({title:"\u5FEB\u6377\u64CD\u4F5C",width:500,content:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(p.ZP,{itemLayout:"horizontal",dataSource:X,renderItem:function(i){return(0,s.jsx)(p.ZP.Item,{children:(0,s.jsx)(p.ZP.Item.Meta,{title:(0,s.jsx)("a",{href:"https://ant.design",children:i.title}),description:i.description})})}})})})}}],text:{noRecordsFound:"\u672A\u627E\u5230",showingPage:"\u663E\u793A {1} \u6761\u4E2D\u7684\u7B2C {0} \u6761",show:"\u663E\u793A ",search:"\u641C\u7D22",entries:" \u6761\u76EE",columnName:"\u5217\u6807\u9898",insertANewColumnBefore:"\u5728\u6B64\u524D\u63D2\u5165\u5217",insertANewColumnAfter:"\u5728\u6B64\u540E\u63D2\u5165\u5217",deleteSelectedColumns:"\u5220\u9664\u9009\u5B9A\u5217",renameThisColumn:"\u91CD\u547D\u540D\u5217",orderAscending:"\u5347\u5E8F",orderDescending:"\u964D\u5E8F",insertANewRowBefore:"\u5728\u6B64\u524D\u63D2\u5165\u884C",insertANewRowAfter:"\u5728\u6B64\u540E\u63D2\u5165\u884C",deleteSelectedRows:"\u5220\u9664\u9009\u5B9A\u884C",editComments:"\u7F16\u8F91\u6279\u6CE8",addComments:"\u63D2\u5165\u6279\u6CE8",comments:"\u6279\u6CE8",clearComments:"\u5220\u9664\u6279\u6CE8",copy:"\u590D\u5236...",paste:"\u7C98\u8D34...",saveAs:"\u4FDD\u5B58\u4E3A...",about:"\u5173\u4E8E",areYouSureToDeleteTheSelectedRows:"\u786E\u5B9A\u5220\u9664\u9009\u5B9A\u884C?",areYouSureToDeleteTheSelectedColumns:"\u786E\u5B9A\u5220\u9664\u9009\u5B9A\u5217?",thisActionWillDestroyAnyExistingMergedCellsAreYouSure:"\u8FD9\u4E00\u64CD\u4F5C\u4F1A\u7834\u574F\u6240\u6709\u73B0\u5B58\u7684\u5408\u5E76\u5355\u5143\u683C\uFF0C\u786E\u8BA4\u64CD\u4F5C\uFF1F",thisActionWillClearYourSearchResultsAreYouSure:"\u8FD9\u4E00\u64CD\u4F5C\u4F1A\u6E05\u7A7A\u641C\u7D22\u7ED3\u679C\uFF0C\u786E\u8BA4\u64CD\u4F5C\uFF1F",thereIsAConflictWithAnotherMergedCell:"\u4E0E\u5176\u4ED6\u5408\u5E76\u5355\u5143\u683C\u6709\u51B2\u7A81",invalidMergeProperties:"\u65E0\u6548\u7684\u5408\u5E76\u5C5E\u6027",cellAlreadyMerged:"\u5355\u5143\u683C\u5DF2\u5408\u5E76",noCellsSelected:"\u672A\u9009\u5B9A\u5355\u5143\u683C"},about:!1,updateTable:function(e,i,r,l,g,h,J){i.title=g},onchange:function(e,i,r,l,g){var h,J,q=t==null||(h=t.current)===null||h===void 0?void 0:h.jexcel.getRowData(l),V=a().find(y,{name:g}),z=a().find(w,{defaultDatabase:!0}).code||w[0].code,b=a().get(V,"code"),G="apply.".concat(z,".type"),H=a().get(V,G);if(V&&z&&b&&H){var L,F,U,K;t==null||(L=t.current)===null||L===void 0||(F=L.jexcel)===null||F===void 0||F.setValueFromCoords(Number(r)+1,l,b,!0),t==null||(U=t.current)===null||U===void 0||(K=U.jexcel)===null||K===void 0||K.setValueFromCoords(Number(r)+2,l,H,!0)}D(t==null||(J=t.current)===null||J===void 0?void 0:J.jexcel.getJson())},oninsertrow:function(){},ondeleterow:function(){var e;D(t==null||(e=t.current)===null||e===void 0?void 0:e.jexcel.getJson())},onmoverow:function(){var e;D(t==null||(e=t.current)===null||e===void 0?void 0:e.jexcel.getJson())},onpaste:function(){var e;D(t==null||(e=t.current)===null||e===void 0?void 0:e.jexcel.getJson())},onundo:function(){var e;D(t==null||(e=t.current)===null||e===void 0?void 0:e.jexcel.getJson())},onredo:function(){var e;D(t==null||(e=t.current)===null||e===void 0?void 0:e.jexcel.getJson())}};(0,f.useEffect)(function(){t.current.jspreadsheet||c()(t.current,Y)},[Y]),(0,f.useEffect)(function(){},[j.data]);var Q=function(){var e;t==null||(e=t.current)===null||e===void 0||e.jexcel.insertRow()};return(0,s.jsx)("div",{ref:t})},W=N},78167:function(k,v,n){n.r(v),n.d(v,{column1:function(){return T},column2:function(){return C},emptyValidator:function(){return A}});var f=n(98404),d=n(75687),c=n(77662),u=n(5049),a=n(68999),M=n(36422),A=function(E,p){!E||E.length===0?(u.ZP.error("\u5F53\u524D\u7F16\u8F91\u9879\u4E0D\u5141\u8BB8\u4E3A\u7A7A"),p(!1)):p(!0)},T=[{title:"\u4E2D\u6587\u540D*",name:"chnname",type:"text",width:"100"},{title:"\u82F1\u6587\u540D*",name:"name",type:"text",width:"100"}],C=[{title:"\u7C7B\u578B(code)",name:"type",type:"text",width:"100",readOnly:!0},{title:"\u6570\u636E\u6E90\u7C7B\u578B",name:"dataType",type:"text",width:"130",readOnly:!0},{title:"\u8BF4\u660E",name:"remark",type:"text",width:"100"},{title:"\u4E3B\u952E",name:"pk",type:"checkbox",width:"50"},{title:"\u975E\u7A7A",name:"notNull",type:"checkbox",width:"50"},{title:"\u81EA\u589E",name:"autoIncrement",type:"checkbox",width:"50"},{title:"\u5728\u5173\u7CFB\u56FE\u4E2D\u9690\u85CF",name:"relationNoShow",type:"checkbox",width:"120"},{title:"\u9ED8\u8BA4\u503C",name:"defaultValue",type:"text",width:"100"},{title:"UI\u5EFA\u8BAE",name:"uiHint",type:"dropdown",width:"100",source:["Text","Number","Money","Select","Radio","CheckBox","Email","URL","DatePicker","TextArea","AddressPicker"]}],O=function(E){var p=(0,d.ZP)(function(m){var y,w,S,P,$,x;return{datatype:(y=m.project)===null||y===void 0||(w=y.projectJSON)===null||w===void 0||(S=w.dataTypeDomains)===null||S===void 0?void 0:S.datatype,database:(P=m.project)===null||P===void 0||($=P.projectJSON)===null||$===void 0||(x=$.dataTypeDomains)===null||x===void 0?void 0:x.database,projectDispatch:m.dispatch}},c.Z),s=p.datatype,N=p.projectDispatch,W=s==null?void 0:s.map(function(m){return m.name}),B=JSON.stringify(N.getDefaultFields().filter(function(m){return m!=null})||[]),j=JSON.parse(B),R=function(y){N.updateDefaultFields(y)},I=[].concat(T,[{title:"\u7C7B\u578B*",name:"typeName",type:"dropdown",source:W,width:"150"}],C);return(0,M.jsx)(a.Z,{data:j,columns:I,saveData:R,notEmptyColumn:["chnname","name","typeName"]})};v.default=f.memo(O)},77662:function(k,v,n){n.d(v,{Z:function(){return f}});function f(d,c){if(Object.is(d,c))return!0;if(typeof d!="object"||d===null||typeof c!="object"||c===null)return!1;const u=Object.keys(d);if(u.length!==Object.keys(c).length)return!1;for(let a=0;a<u.length;a++)if(!Object.prototype.hasOwnProperty.call(c,u[a])||!Object.is(d[u[a]],c[u[a]]))return!1;return!0}}}]);
