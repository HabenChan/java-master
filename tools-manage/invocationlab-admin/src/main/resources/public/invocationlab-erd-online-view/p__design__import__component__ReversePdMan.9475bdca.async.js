"use strict";(self.webpackChunkInvocationlab_ERD_Online=self.webpackChunkInvocationlab_ERD_Online||[]).push([[6435,2683],{44474:function(L,D,n){n.d(D,{Z:function(){return h}});var g=n(87006),P=n(98404),j=n(28661),y=n(54640),R=n(70241),u=n(11230),A=n(10673),F=n(56228),I=n(78933),T=n(369);function r(e){return(0,T.Z)("MuiSvgIcon",e)}const m=(0,I.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var x=null,C=n(36422);const W=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],o=e=>{const{color:t,fontSize:i,classes:a}=e,s={root:["root",t!=="inherit"&&`color${(0,u.Z)(t)}`,`fontSize${(0,u.Z)(i)}`]};return(0,R.Z)(s,r,a)},l=(0,F.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.color!=="inherit"&&t[`color${(0,u.Z)(i.color)}`],t[`fontSize${(0,u.Z)(i.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var i,a,s,d,c,v,E,_,M,f,Z,K,U,$,N,z,S;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(i=e.transitions)==null||(a=i.create)==null?void 0:a.call(i,"fill",{duration:(s=e.transitions)==null||(d=s.duration)==null?void 0:d.shorter}),fontSize:{inherit:"inherit",small:((c=e.typography)==null||(v=c.pxToRem)==null?void 0:v.call(c,20))||"1.25rem",medium:((E=e.typography)==null||(_=E.pxToRem)==null?void 0:_.call(E,24))||"1.5rem",large:((M=e.typography)==null||(f=M.pxToRem)==null?void 0:f.call(M,35))||"2.1875rem"}[t.fontSize],color:(Z=(K=(e.vars||e).palette)==null||(U=K[t.color])==null?void 0:U.main)!=null?Z:{action:($=(e.vars||e).palette)==null||(N=$.action)==null?void 0:N.active,disabled:(z=(e.vars||e).palette)==null||(S=z.action)==null?void 0:S.disabled,inherit:void 0}[t.color]}}),p=P.forwardRef(function(t,i){const a=(0,A.Z)({props:t,name:"MuiSvgIcon"}),{children:s,className:d,color:c="inherit",component:v="svg",fontSize:E="medium",htmlColor:_,inheritViewBox:M=!1,titleAccess:f,viewBox:Z="0 0 24 24"}=a,K=(0,j.Z)(a,W),U=(0,g.Z)({},a,{color:c,component:v,fontSize:E,instanceFontSize:t.fontSize,inheritViewBox:M,viewBox:Z}),$={};M||($.viewBox=Z);const N=o(U);return(0,C.jsxs)(l,(0,g.Z)({as:v,className:(0,y.Z)(N.root,d),focusable:"false",color:_,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:i},$,K,{ownerState:U,children:[s,f?(0,C.jsx)("title",{children:f}):null]}))});p.muiName="SvgIcon";var B=p;function O(e,t){function i(a,s){return(0,C.jsx)(B,(0,g.Z)({"data-testid":`${t}Icon`,ref:s},a,{children:e}))}return i.muiName=B.muiName,P.memo(P.forwardRef(i))}var h=O((0,C.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5v-3h3.56c.69 1.19 1.97 2 3.45 2s2.75-.81 3.45-2H19v3zm0-5h-4.99c0 1.1-.9 2-2 2s-2-.9-2-2H5V5h14v9z"}),"InboxOutlined")},11230:function(L,D,n){var g=n(34676);D.Z=g.Z},87963:function(L,D,n){n.r(D),n.d(D,{importModuleAndProfile:function(){return x}});var g=n(91484),P=n.n(g),j=n(98404),y=n(44474),R=n(35397),u=n(5049),A=n(28307),F=n(75687),I=n(77662),T=n(44766),r=n.n(T),m=n(36422),x=function(o,l,p,B){var O,h,e,t,i,a,s,d,c=r().unionBy(o==null||(O=o.dataTypeDomains)===null||O===void 0?void 0:O.datatype,l==null||(h=l.dataTypeDomains)===null||h===void 0?void 0:h.datatype,"code"),v=r().unionBy(o==null||(e=o.dataTypeDomains)===null||e===void 0?void 0:e.database,l==null||(t=l.dataTypeDomains)===null||t===void 0?void 0:t.database,"code");r().merge(o==null?void 0:o.dataTypeDomains,l==null?void 0:l.dataTypeDomains),r().set(o==null?void 0:o.dataTypeDomains,"datatype",c),r().set(o==null?void 0:o.dataTypeDomains,"database",v);var E=r().unionBy(o==null||(i=o.profile)===null||i===void 0?void 0:i.defaultFields,l==null||(a=l.profile)===null||a===void 0?void 0:a.defaultFields,"name"),_=r().unionBy(o==null||(s=o.profile)===null||s===void 0?void 0:s.dbs,l==null||(d=l.profile)===null||d===void 0?void 0:d.dbs,"name");if(r().merge(o==null?void 0:o.profile,l==null?void 0:l.profile),r().set(o==null?void 0:o.profile,"defaultFields",E),r().set(o==null?void 0:o.profile,"dbs",_),p){var M,f;p=B.fixModules(p,o==null||(M=o.dataTypeDomains)===null||M===void 0?void 0:M.datatype,o==null||(f=o.dataTypeDomains)===null||f===void 0?void 0:f.database)}return B.setProjectJson({modules:(o.modules||[]).concat(p),dataTypeDomains:o==null?void 0:o.dataTypeDomains,profile:o==null?void 0:o.profile}),p},C=function(o){var l=(0,F.ZP)(function(h){return{projectDispatch:h.dispatch,projectJSON:h.project.projectJSON||{}}},I.Z),p=l.projectDispatch,B=l.projectJSON,O={multiple:!1,maxCount:1,beforeUpload:function(e){var t=e.type==="application/json";if(!t)return u.ZP.error("\u8BF7\u786E\u8BA4\u4E0A\u4F20\u6587\u4EF6\u662FERD\u5BFC\u51FA\u7684\u6807\u51C6json\u6587\u4EF6!"),!1;var i=new FileReader;return i.readAsText(e),i.onload=function(){var a;try{a=p.decrypt("AES",i.result.toString())}catch(_){return u.ZP.error("ERD\u6587\u4EF6\u89E3\u5BC6\u5931\u8D25\uFF01"),!1}var s=JSON.parse(a),d=s.modules;if(!d||!(d instanceof Array))return u.ZP.error("\u60A8\u5BFC\u5165\u7684\u662F\u975E\u6CD5\u7684ERD\u6587\u4EF6!"),!1;if(d.length<=0)return u.ZP.warning("\u60A8\u5C1A\u672A\u5728ERD\u65B0\u5EFA\u6A21\u5757\uFF0C\u65E0\u9700\u5BFC\u5165\uFF0C\u53EF\u76F4\u63A5\u5728\u672C\u7CFB\u7EDF\u65B0\u5EFA\u6A21\u5757!"),!1;var c=B,v=[],E=[];return d.forEach(function(_){var M=(c.modules||[]).some(function(f){return _.name===f.name});M?v.push("["+_.name+"]\u5DF2\u7ECF\u5728\u672C\u7CFB\u7EDF\u4E2D\u5B58\u5728\uFF0C\u5DF2\u8DF3\u8FC7\u5BFC\u5165"):E.push(_)}),E=x(c,s,E,p),v!=""?A.Z.warning({title:"\u91CD\u8981\u63D0\u793A",content:(0,m.jsx)(m.Fragment,{children:v.map(function(_){return(0,m.jsx)("p",{children:_})})}),okText:null,cancelText:null}):u.ZP.success("ERD\u6587\u4EF6\u5BFC\u5165\u6210\u529F\uFF01"),!0},!0}};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(R.Z,P()(P()({},O),{},{children:[(0,m.jsx)("p",{className:"ant-upload-drag-icon",children:(0,m.jsx)(y.Z,{})}),(0,m.jsx)("p",{className:"ant-upload-text",children:"\u70B9\u51FB\u6216\u8005\u62D6\u62FDERD\u5BFC\u51FA\u7684json\u6587\u4EF6\u5230\u6B64\u533A\u57DF\u4EE5\u4E0A\u4F20"}),(0,m.jsx)("p",{className:"ant-upload-hint",children:"\u4E0A\u4F20\u5B8C\u6BD5\u540E\uFF0C\u7CFB\u7EDF\u4F1A\u81EA\u52A8\u5F00\u59CB\u89E3\u6790\uFF1B\u6BCF\u6B21\u4EC5\u652F\u6301\u89E3\u6790\u4E00\u4E2AERD\u6587\u4EF6\u3002"})]}))})};D.default=j.memo(C)},16052:function(L,D,n){n.r(D);var g=n(91484),P=n.n(g),j=n(98404),y=n(44474),R=n(10517),u=n(5049),A=n(28307),F=n(75687),I=n(77662),T=n(87963),r=n(36422),m=R.Z.Dragger,x=function(W){var o=(0,F.ZP)(function(O){return{projectDispatch:O.dispatch,projectJSON:O.project.projectJSON||{}}},I.Z),l=o.projectDispatch,p=o.projectJSON,B={multiple:!1,maxCount:1,beforeUpload:function(h){var e=h.type==="application/json";if(!e)return u.ZP.error("\u8BF7\u786E\u8BA4\u4E0A\u4F20\u6587\u4EF6\u662FPDMan\u5BFC\u51FA\u7684\u6807\u51C6json\u6587\u4EF6!"),!1;var t=new FileReader;return t.readAsText(h),t.onload=function(){var i=JSON.parse(t.result.toString()),a=i.modules;if(!a||!(a instanceof Array))return u.ZP.error("\u60A8\u5BFC\u5165\u7684\u662F\u975E\u6CD5\u7684PDMan\u6587\u4EF6!"),!1;if(a.length<=0)return u.ZP.warning("\u60A8\u5C1A\u672A\u5728PDMan\u65B0\u5EFA\u6A21\u5757\uFF0C\u65E0\u9700\u5BFC\u5165\uFF0C\u53EF\u76F4\u63A5\u5728\u672C\u7CFB\u7EDF\u65B0\u5EFA\u6A21\u5757!"),!1;var s=p,d=[],c=[];return a.forEach(function(v){var E=(s.modules||[]).some(function(_){return v.name===_.name});E?d.push("["+v.name+"]\u5DF2\u7ECF\u5728\u672C\u7CFB\u7EDF\u4E2D\u5B58\u5728\uFF0C\u5DF2\u8DF3\u8FC7\u5BFC\u5165"):c.push(v)}),c=(0,T.importModuleAndProfile)(s,i,c,l),d!=""?A.Z.warning({title:"\u91CD\u8981\u63D0\u793A",content:(0,r.jsx)(r.Fragment,{children:d.map(function(v){return(0,r.jsx)("p",{children:v})})}),okText:null,cancelText:null}):u.ZP.success("PdMan\u6587\u4EF6\u5BFC\u5165\u6210\u529F\uFF01"),!0},!0}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(m,P()(P()({},B),{},{children:[(0,r.jsx)("p",{className:"ant-upload-drag-icon",children:(0,r.jsx)(y.Z,{})}),(0,r.jsx)("p",{className:"ant-upload-text",children:"\u70B9\u51FB\u6216\u8005\u62D6\u62FDPdMand\u5BFC\u51FA\u7684json\u6587\u4EF6\u5230\u6B64\u533A\u57DF\u4EE5\u4E0A\u4F20"}),(0,r.jsx)("p",{className:"ant-upload-hint",children:"\u4E0A\u4F20\u5B8C\u6BD5\u540E\uFF0C\u7CFB\u7EDF\u4F1A\u81EA\u52A8\u5F00\u59CB\u89E3\u6790\uFF1B\u6BCF\u6B21\u4EC5\u652F\u6301\u89E3\u6790\u4E00\u4E2APdMan\u6587\u4EF6\u3002"})]}))})};D.default=j.memo(x)},10517:function(L,D,n){var g=n(35397),P=n(12416);const j=P.Z;j.Dragger=g.Z,j.LIST_IGNORE=P.E,D.Z=j}}]);
