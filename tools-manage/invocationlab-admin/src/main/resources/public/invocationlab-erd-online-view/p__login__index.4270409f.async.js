"use strict";(self.webpackChunkInvocationlab_ERD_Online=self.webpackChunkInvocationlab_ERD_Online||[]).push([[6939],{6318:function(z,c,e){e.r(c),e.d(c,{login:function(){return f}});var C=e(39346),h=e.n(C),x=e(43953),t=e.n(x),y=e(9083),b=e.n(y),B=e(91184),u=e.n(B),R=e(66609),T=e(72418),g=e(8173),A=e(43693),I=e(71591),d=e(4341),L=e(98951),m=e(23759),v=e(62656),K=e(58750),U=e(64210),W=e(69589),Z=e(2491),F=e(98404),E=e(29612),D=e(4302),P=e(68413),n=e(36422),w={color:"rgba(0, 0, 0, 0.2)",fontSize:"18px",verticalAlign:"middle",cursor:"pointer"};function f(l,s){return p.apply(this,arguments)}function p(){return p=u()(t()().mark(function l(s,r){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,P.ZP.get("/auth/oauth/token?username="+s+"&password="+r+"&grant_type=password&scope=select").then(function(o){o&&(o.data.access_token?(E.LS("Authorization",o.data.access_token),E.LS("username",s),E.LS("env",o.data.env),D.history.push({pathname:"/project/recent"})):m.ZP.error(o.data.msg))});case 2:case"end":return _.stop()}},l)})),p.apply(this,arguments)}c.default=function(){var l=(0,F.useState)("account"),s=b()(l,2),r=s[0],j=s[1];return(0,n.jsx)("div",{style:{backgroundColor:"white",height:"calc(100vh - 48px)",margin:24},children:(0,n.jsxs)(I.B,{backgroundImageUrl:"/invocationlab-erd-online-view/login-bg.jpg",logo:"/invocationlab-erd-online-view/logo.svg",title:"ERD Online",subTitle:"\u5168\u7403\u7B2C\u4E00\u4E2A\u5F00\u6E90\u5728\u7EBF\u6570\u636E\u5E93\u5EFA\u6A21\u5E73\u53F0",onFinish:function(){var _=u()(t()().mark(function o(a){var O,M;return t()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return O=a.username,M=a.password,i.next=4,f(O,M);case 4:case"end":return i.stop()}},o)}));return function(o){return _.apply(this,arguments)}}(),activityConfig:{style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.2)",color:"#fff",borderRadius:8,backgroundColor:"#1677FF"},title:"ERD Online 4.0.7\u53D1\u5E03",subTitle:"\u5168\u65B0\u5347\u7EA7\uFF0C\u56E2\u961F\u534F\u4F5C\uFF0C\u6743\u9650\u63A7\u5236",action:(0,n.jsx)(v.ZP,{size:"large",style:{borderRadius:20,background:"#fff",color:"#1677FF",width:120},onClick:function(){window.location.href="https://github.com/orgs/www-zerocode-net-cn/discussions"},children:"\u53BB\u770B\u770B"})},actions:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,n.jsx)(K.Z,{plain:!0,style:{display:"none"},children:(0,n.jsx)("span",{style:{color:"#CCC",fontWeight:"normal",fontSize:14},children:"\u5176\u4ED6\u767B\u5F55\u65B9\u5F0F"})}),(0,n.jsx)(U.Z,{align:"center",size:24,children:(0,n.jsx)("div",{style:{display:"none",justifyContent:"center",alignItems:"center",flexDirection:"column",height:40,width:40,border:"1px solid #D4D8DD",borderRadius:"50%"},children:(0,n.jsx)(W.Z,{content:(0,n.jsx)("iframe",{src:"".concat(P._n,"/auth/oauth2/authorization/wechat"),style:{border:"none"},scrolling:"no",height:"400px",sandbox:"allow-scripts  allow-top-navigation"}),trigger:"click",placement:"left",children:(0,n.jsx)(R.Z,{style:h()(h()({},w),{},{color:"#FF6A10"})})})})})]}),children:[(0,n.jsx)(Z.Z,{centered:!0,activeKey:r,onChange:function(o){return j(o)},items:[{label:"LDAP\u767B\u5F55",key:"account"}]}),r==="account"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{name:"username",fieldProps:{size:"large",prefix:(0,n.jsx)(T.Z,{className:"prefixIcon"})},placeholder:"admin",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}]}),(0,n.jsx)(d.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,n.jsx)(g.Z,{className:"prefixIcon"})},placeholder:"\u5BC6\u7801admin",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"}]})]}),r==="phone"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{fieldProps:{size:"large",prefix:(0,n.jsx)(A.Z,{className:"prefixIcon"})},name:"mobile",placeholder:"\u624B\u673A\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"},{pattern:/^1\d{10}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"}]}),(0,n.jsx)(L.Z,{fieldProps:{size:"large",prefix:(0,n.jsx)(g.Z,{className:"prefixIcon"})},captchaProps:{size:"large"},placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",captchaTextRender:function(o,a){return o?"".concat(a," ","\u83B7\u53D6\u9A8C\u8BC1\u7801"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"},name:"captcha",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"}],onGetCaptcha:u()(t()().mark(function _(){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:m.ZP.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F\uFF01\u9A8C\u8BC1\u7801\u4E3A\uFF1A1234");case 1:case"end":return a.stop()}},_)}))})]}),(0,n.jsxs)("div",{style:{marginBlockEnd:24},children:[(0,n.jsx)(v.ZP,{style:{display:"none"},type:"link",onClick:function(){D.history.push({pathname:"/register"})},children:"\u6CE8\u518C"}),(0,n.jsx)("a",{style:{float:"right",display:"none"},onClick:function(){m.ZP.warning("\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u4FEE\u6539\u5BC6\u7801")},children:"\u5FD8\u8BB0\u5BC6\u7801"})]})]})})}}}]);
