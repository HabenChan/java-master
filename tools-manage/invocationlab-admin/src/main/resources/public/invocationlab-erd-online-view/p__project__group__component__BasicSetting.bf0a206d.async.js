"use strict";(self.webpackChunkInvocationlab_ERD_Online=self.webpackChunkInvocationlab_ERD_Online||[]).push([[5953],{34843:function(B,x){var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};x.Z=e},27856:function(B,x,e){var m=e(27789),s=e(9169),M=e(66626),l=e(98404),Z=e(25632),h=e(36933),P=e(36422),F=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],_=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],f=function(d,C){var g=d.fieldProps,o=d.children,n=d.params,j=d.proFieldProps,a=d.mode,u=d.valueEnum,t=d.request,i=d.showSearch,r=d.options,T=(0,s.Z)(d,F),O=(0,l.useContext)(Z.Z);return(0,P.jsx)(h.Z,(0,m.Z)((0,m.Z)({valueEnum:(0,M.h)(u),request:t,params:n,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,m.Z)({options:r,mode:a,showSearch:i,getPopupContainer:O.getPopupContainer},g),ref:C,proFieldProps:j},T),{},{children:o}))},D=l.forwardRef(function(E,d){var C=E.fieldProps,g=E.children,o=E.params,n=E.proFieldProps,j=E.mode,a=E.valueEnum,u=E.request,t=E.options,i=(0,s.Z)(E,_),r=(0,m.Z)({options:t,mode:j||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},C),T=(0,l.useContext)(Z.Z);return(0,P.jsx)(h.Z,(0,m.Z)((0,m.Z)({valueEnum:(0,M.h)(a),request:u,params:o,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,m.Z)({getPopupContainer:T.getPopupContainer},r),ref:d,proFieldProps:n},i),{},{children:g}))}),c=l.forwardRef(f),v=D,y=c;y.SearchSelect=v,y.displayName="ProFormComponent",x.Z=y},12125:function(B,x,e){var m=e(27789),s=e(9169),M=e(98404),l=e(36933),Z=e(36422),h=["fieldProps","proFieldProps"],P=function(_,f){var D=_.fieldProps,c=_.proFieldProps,v=(0,s.Z)(_,h);return(0,Z.jsx)(l.Z,(0,m.Z)({ref:f,valueType:"textarea",fieldProps:D,proFieldProps:c},v))};x.Z=M.forwardRef(P)},4341:function(B,x,e){var m=e(73068),s=e(27789),M=e(9169),l=e(70978),Z=e(91031),h=e(69589),P=e(91163),F=e(98404),_=e(36933),f=e(36422),D=["fieldProps","proFieldProps"],c=["fieldProps","proFieldProps"],v="text",y=function(o){var n=o.fieldProps,j=o.proFieldProps,a=(0,M.Z)(o,D);return(0,f.jsx)(_.Z,(0,s.Z)({valueType:v,fieldProps:n,filedConfig:{valueType:v},proFieldProps:j},a))},E=function(o){var n=(0,l.Z)(o.open||!1,{value:o.open,onChange:o.onOpenChange}),j=(0,m.Z)(n,2),a=j[0],u=j[1];return(0,f.jsx)(Z.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(i){var r,T=i.getFieldValue(o.name||[]);return(0,f.jsx)(h.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(p){return p&&p.parentNode?p.parentNode:p},onOpenChange:u,content:(0,f.jsxs)("div",{style:{padding:"4px 0"},children:[(r=o.statusRender)===null||r===void 0?void 0:r.call(o,T),o.strengthText?(0,f.jsx)("div",{style:{marginTop:10},children:(0,f.jsx)("span",{children:o.strengthText})}):null]}),overlayStyle:{width:240},placement:"right"},o.popoverProps),{},{open:a,children:o.children}))}})},d=function(o){var n=o.fieldProps,j=o.proFieldProps,a=(0,M.Z)(o,c),u=(0,F.useState)(!1),t=(0,m.Z)(u,2),i=t[0],r=t[1];return n!=null&&n.statusRender&&a.name?(0,f.jsx)(E,{name:a.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:i,onOpenChange:r,children:(0,f.jsx)(_.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,P.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(O){var p;n==null||(p=n.onBlur)===null||p===void 0||p.call(n,O),r(!1)},onClick:function(O){var p;n==null||(p=n.onClick)===null||p===void 0||p.call(n,O),r(!0)}}),proFieldProps:j,filedConfig:{valueType:v}},a))}):(0,f.jsx)(_.Z,(0,s.Z)({valueType:"password",fieldProps:n,proFieldProps:j,filedConfig:{valueType:v}},a))},C=y;C.Password=d,C.displayName="ProFormComponent",x.Z=C},67098:function(B,x,e){e.d(x,{G:function(){return C}});var m=e(27789),s=e(32720),M=e(14399),l=e(98404),Z=e(34843),h=e(57028),P=function(o,n){return l.createElement(h.Z,(0,M.Z)({},o,{ref:n,icon:Z.Z}))},F=l.forwardRef(P),_=e(47729),f=e(30879),D=e(26869),c=e.n(D),v=e(42017),y=function(o){return(0,s.Z)({},o.componentCls,{display:"inline-flex",alignItems:"center",maxWidth:"100%","&-icon":{display:"block",marginInlineStart:"4px",cursor:"pointer","&:hover":{color:o.colorPrimary}},"&-title":{display:"inline-flex",flex:"1"},"&-subtitle ":{marginInlineStart:8,color:o.colorTextSecondary,fontWeight:"normal",fontSize:o.fontSize,whiteSpace:"nowrap"},"&-title-ellipsis":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",wordBreak:"keep-all"}})};function E(g){return(0,v.Xj)("LabelIconTip",function(o){var n=(0,m.Z)((0,m.Z)({},o),{},{componentCls:".".concat(g)});return[y(n)]})}var d=e(36422),C=l.memo(function(g){var o=g.label,n=g.tooltip,j=g.ellipsis,a=g.subTitle,u=(0,l.useContext)(_.ZP.ConfigContext),t=u.getPrefixCls,i=t("pro-core-label-tip"),r=E(i),T=r.wrapSSR,O=r.hashId;if(!n&&!a)return(0,d.jsx)(d.Fragment,{children:o});var p=typeof n=="string"||l.isValidElement(n)?{title:n}:n,A=(p==null?void 0:p.icon)||(0,d.jsx)(F,{});return T((0,d.jsxs)("div",{className:c()(i,O),onMouseDown:function(S){return S.stopPropagation()},onMouseLeave:function(S){return S.stopPropagation()},onMouseMove:function(S){return S.stopPropagation()},children:[(0,d.jsx)("div",{className:c()("".concat(i,"-title"),O,(0,s.Z)({},"".concat(i,"-title-ellipsis"),j)),children:o}),a&&(0,d.jsx)("div",{className:"".concat(i,"-subtitle ").concat(O).trim(),children:a}),n&&(0,d.jsx)(f.Z,(0,m.Z)((0,m.Z)({},p),{},{children:(0,d.jsx)("span",{className:"".concat(i,"-icon ").concat(O).trim(),children:A})}))]}))})},14187:function(B,x,e){e.r(x),e.d(x,{default:function(){return W}});var m=e(43953),s=e.n(m),M=e(91184),l=e.n(M),Z=e(9083),h=e.n(Z),P=e(98404),F=e(2360),_=e(4341),f=e(27856),D=e(12125),c=e(12784),v=e(23759),y=e(58750),E=e(64210),d=e(34973),C=e(4302),g=e(44766),o=e.n(g),n=e(31117),j=e(62656),a=e(5460),u=e(99418),t=e(36422),i=function(w){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(n.Z,{placement:"right",title:"\u5220\u9664\u9879\u76EE",onConfirm:function(){return(0,a.pV)({id:w.projectId}).then(function(U){U&&(U.code===200?(v.ZP.success("\u5220\u9664\u6210\u529F"),u.m.push({pathname:"/project/group"})):v.ZP.error(U.message||"\u5220\u9664\u5931\u8D25"))})},okText:"\u662F",cancelText:"\u5426",children:(0,t.jsx)(j.ZP,{danger:!0,children:"\u5220\u9664"})})})},r=P.memo(i),T=e(53631),O=c.Z.Title,p=c.Z.Text,A=function(w){var R=(0,T.md)(),U=(0,C.useSearchParams)(),z=h()(U,1),V=z[0],$=V.get("projectId")||"";return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(F.A,{submitter:{render:function(b,L){return R.canErdProjectGroupEdit?L:null}},onFinish:function(){var K=l()(s()().mark(function b(L){return s()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,(0,a.wg)({id:$,projectName:L.projectName,description:L.description,tags:o().join(L.tags,",")}).then(function(I){I&&(I.code===200?v.ZP.success("\u4FEE\u6539\u6210\u529F"):v.ZP.error(I.message||"\u4FEE\u6539\u5931\u8D25"))});case 2:case"end":return N.stop()}},b)}));return function(b){return K.apply(this,arguments)}}(),params:{id:"100"},formKey:"base-form-use-demo",dateFormatter:function(b,L){return b.format("YYYY/MM/DD HH:mm:ss")},request:function(){var K=l()(s()().mark(function b(L){var G;return s()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,d.HT)("/ncnb/project/group/get/"+$,{});case 2:return G=I.sent,G.data.tags=G.data.tags.split(","),I.abrupt("return",G.data);case 5:case"end":return I.stop()}},b)}));return function(b){return K.apply(this,arguments)}}(),autoFocusFirstInput:!0,children:[(0,t.jsx)(O,{level:4,children:"\u57FA\u672C\u8BBE\u7F6E"}),(0,t.jsx)(_.Z,{width:"md",name:"projectName",label:"\u9879\u76EE\u540D",placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u540D",fieldProps:{bordered:R.canErdProjectGroupEdit,disabled:!R.canErdProjectGroupEdit},formItemProps:{rules:[{required:!0,message:"\u4E0D\u80FD\u4E3A\u7A7A"},{max:100,message:"\u4E0D\u80FD\u5927\u4E8E 100 \u4E2A\u5B57\u7B26"}]}}),(0,t.jsx)(f.Z,{width:"md",name:"tags",label:"\u6807\u7B7E",placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u6807\u7B7E,\u6309\u56DE\u8F66\u5206\u5272",disabled:!R.canErdProjectGroupEdit,bordered:R.canErdProjectGroupEdit,formItemProps:{rules:[{required:!0,message:"\u4E0D\u80FD\u4E3A\u7A7A"}]},fieldProps:{mode:"tags",tokenSeparators:[",",";"]}}),(0,t.jsx)(D.Z,{width:"md",name:"description",label:"\u9879\u76EE\u63CF\u8FF0",placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u63CF\u8FF0",fieldProps:{bordered:R.canErdProjectGroupEdit,disabled:!R.canErdProjectGroupEdit},formItemProps:{rules:[{required:!0,message:"\u4E0D\u80FD\u4E3A\u7A7A"},{max:100,message:"\u4E0D\u80FD\u5927\u4E8E 100 \u4E2A\u5B57\u7B26"}]}}),(0,t.jsx)(_.Z,{width:"md",name:"createTime",label:"\u521B\u5EFA\u65F6\u95F4",fieldProps:{bordered:!1,disabled:!0},formItemProps:{rules:[{required:!0,message:"\u4E0D\u80FD\u4E3A\u7A7A"},{max:100,message:"\u4E0D\u80FD\u5927\u4E8E 100 \u4E2A\u5B57\u7B26"}]}}),(0,t.jsx)(_.Z,{width:"md",name:"updateTime",label:"\u6700\u540E\u4FEE\u6539\u65F6\u95F4",placeholder:"",fieldProps:{bordered:!1,disabled:!0},formItemProps:{rules:[{required:!0,message:"\u4E0D\u80FD\u4E3A\u7A7A"},{max:100,message:"\u4E0D\u80FD\u5927\u4E8E 100 \u4E2A\u5B57\u7B26"}]}})]}),(0,t.jsx)(y.Z,{}),(0,t.jsx)(T.Nv,{accessible:R.canErdProjectGroupDel,fallback:(0,t.jsx)(t.Fragment,{}),children:(0,t.jsxs)(E.Z,{direction:"vertical",children:[(0,t.jsx)(O,{level:4,children:"\u5220\u9664\u9879\u76EE"}),(0,t.jsx)(p,{type:"secondary",children:"\u5220\u9664\u9879\u76EE\u5168\u90E8\u6A21\u578B\uFF0C\u6B64\u64CD\u4F5C\u65E0\u6CD5\u6062\u590D"}),(0,t.jsx)(r,{projectId:$})]})})]})},W=P.memo(A)},34973:function(B,x,e){e.d(x,{D7:function(){return f},HT:function(){return g},UC:function(){return n},a4:function(){return d},dm:function(){return y},fU:function(){return c}});var m=e(43953),s=e.n(m),M=e(39346),l=e.n(M),Z=e(91184),h=e.n(Z),P=e(68413);function F(a,u,t){return _.apply(this,arguments)}function _(){return _=_asyncToGenerator(_regeneratorRuntime().mark(function a(u,t,i){var r,T;return _regeneratorRuntime().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return i||(i={}),r=JSON.stringify(i)==="{}",T=[],r||Object.keys(i).map(function(A,W){var S=i[A];S==="ascend"&&T.push({column:A,asc:!0}),S==="descend"&&T.push({column:A,asc:!1})}),p.abrupt("return",request(u,{method:"GET",params:_objectSpread({size:t.pageSize,orders:T},t)}));case 5:case"end":return p.stop()}},a)})),_.apply(this,arguments)}function f(a,u){return D.apply(this,arguments)}function D(){return D=h()(s()().mark(function a(u,t){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.ZP)(u,{method:"POST",data:l()({},t)}));case 1:case"end":return r.stop()}},a)})),D.apply(this,arguments)}function c(a,u){return v.apply(this,arguments)}function v(){return v=h()(s()().mark(function a(u,t){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.ZP)(u,{method:"DELETE",data:l()({},t)}));case 1:case"end":return r.stop()}},a)})),v.apply(this,arguments)}function y(a,u){return E.apply(this,arguments)}function E(){return E=h()(s()().mark(function a(u,t){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.ZP)(u,{method:"PUT",data:l()({},t)}));case 1:case"end":return r.stop()}},a)})),E.apply(this,arguments)}function d(a,u){return C.apply(this,arguments)}function C(){return C=h()(s()().mark(function a(u,t){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.ZP)(u,{method:"POST",data:l()({},t)}));case 1:case"end":return r.stop()}},a)})),C.apply(this,arguments)}function g(a,u){return o.apply(this,arguments)}function o(){return o=h()(s()().mark(function a(u,t){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.ZP)(u,{method:"GET",params:l()({},t)}));case 1:case"end":return r.stop()}},a)})),o.apply(this,arguments)}function n(a,u){return j.apply(this,arguments)}function j(){return j=h()(s()().mark(function a(u,t){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.ZP)(u,{method:"GET",params:l()({},t)}));case 1:case"end":return r.stop()}},a)})),j.apply(this,arguments)}},5460:function(B,x,e){e.d(x,{ox:function(){return h},pV:function(){return F},rn:function(){return _},wg:function(){return P}});var m=e(39346),s=e.n(m),M=e(29612),l=e(68413),Z=e(55074),h=function(c){return l.ZP.post("/ncnb/project/add",{data:c})},P=function(c){return l.ZP.post("/ncnb/project/update",{data:c})},F=function(c){return l.ZP.post("/ncnb/project/delete",{data:c})},_=function(c){return l.ZP.get("/ncnb/project/page",{params:{page:c.page,limit:c.limit,projectName:c.projectName,order:c.order}})},f=function(c){var v=cache.getItem(CONSTANT.PROJECT_ID);return request.post("/ncnb/project/save",{data:_objectSpread(_objectSpread({},c),{},{id:v})})}}}]);
