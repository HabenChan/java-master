"use strict";(self.webpackChunkInvocationlab_ERD_Online=self.webpackChunkInvocationlab_ERD_Online||[]).push([[6549],{34843:function(k,D){var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};D.Z=e},83322:function(k,D,e){var l=e(27789),s=e(12012),i=e(9169),P=e(67124),h=e(64210),j=e(64454),I=e(65258),M=e(98404),A=e(58707),F=e(49489),W=e(36422),V=["children","value","valuePropName","onChange","fieldProps","space","type","transform","convertValue","lightProps"],R=["children","space","valuePropName"],G={space:h.Z,group:j.Z.Group};function J(t){var n=arguments.length<=1?void 0:arguments[1];return n&&n.target&&t in n.target?n.target[t]:n}var y=function(n){var a=n.children,m=n.value,C=m===void 0?[]:m,v=n.valuePropName,d=n.onChange,u=n.fieldProps,Z=n.space,g=n.type,r=g===void 0?"space":g,q=n.transform,z=n.convertValue,$=n.lightProps,re=(0,i.Z)(n,V),b=(0,P.J)(function(o,x){var T,c=(0,s.Z)(C);c[x]=J(v||"value",o),d==null||d(c),u==null||(T=u.onChange)===null||T===void 0||T.call(u,c)}),p=-1,U=(0,I.Z)(a).map(function(o){if(M.isValidElement(o)){var x,T,c;p+=1;var S=p,_=(o==null||(x=o.type)===null||x===void 0?void 0:x.displayName)==="ProFormComponent"||(o==null||(T=o.props)===null||T===void 0?void 0:T.readonly),le=_?(0,l.Z)((0,l.Z)({key:S,ignoreFormItem:!0},o.props||{}),{},{fieldProps:(0,l.Z)((0,l.Z)({},o==null||(c=o.props)===null||c===void 0?void 0:c.fieldProps),{},{onChange:function(){b(arguments.length<=0?void 0:arguments[0],S)}}),value:C==null?void 0:C[S],onChange:void 0}):(0,l.Z)((0,l.Z)({key:S},o.props||{}),{},{value:C==null?void 0:C[S],onChange:function(N){var K,te;b(N,S),(K=(te=o.props).onChange)===null||K===void 0||K.call(te,N)}});return M.cloneElement(o,le)}return o}),B=G[r],f=(0,F.zx)(re),H=f.RowWrapper,Q=(0,M.useMemo)(function(){return(0,l.Z)({},r==="group"?{compact:!0}:{})},[r]),O=(0,M.useCallback)(function(o){var x=o.children;return(0,W.jsx)(B,(0,l.Z)((0,l.Z)((0,l.Z)({},Q),Z),{},{align:"start",wrap:!0,children:x}))},[B,Z,Q]);return(0,W.jsx)(H,{Wrapper:O,children:U})},L=M.forwardRef(function(t,n){var a=t.children,m=t.space,C=t.valuePropName,v=(0,i.Z)(t,R);return(0,M.useImperativeHandle)(n,function(){return{}}),(0,W.jsx)(y,(0,l.Z)((0,l.Z)((0,l.Z)({space:m,valuePropName:C},v.fieldProps),{},{onChange:void 0},v),{},{children:a}))}),E=(0,A.G)(L);D.Z=E},4341:function(k,D,e){var l=e(73068),s=e(27789),i=e(9169),P=e(70978),h=e(91031),j=e(69589),I=e(91163),M=e(98404),A=e(36933),F=e(36422),W=["fieldProps","proFieldProps"],V=["fieldProps","proFieldProps"],R="text",G=function(t){var n=t.fieldProps,a=t.proFieldProps,m=(0,i.Z)(t,W);return(0,F.jsx)(A.Z,(0,s.Z)({valueType:R,fieldProps:n,filedConfig:{valueType:R},proFieldProps:a},m))},J=function(t){var n=(0,P.Z)(t.open||!1,{value:t.open,onChange:t.onOpenChange}),a=(0,l.Z)(n,2),m=a[0],C=a[1];return(0,F.jsx)(h.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(d){var u,Z=d.getFieldValue(t.name||[]);return(0,F.jsx)(j.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(r){return r&&r.parentNode?r.parentNode:r},onOpenChange:C,content:(0,F.jsxs)("div",{style:{padding:"4px 0"},children:[(u=t.statusRender)===null||u===void 0?void 0:u.call(t,Z),t.strengthText?(0,F.jsx)("div",{style:{marginTop:10},children:(0,F.jsx)("span",{children:t.strengthText})}):null]}),overlayStyle:{width:240},placement:"right"},t.popoverProps),{},{open:m,children:t.children}))}})},y=function(t){var n=t.fieldProps,a=t.proFieldProps,m=(0,i.Z)(t,V),C=(0,M.useState)(!1),v=(0,l.Z)(C,2),d=v[0],u=v[1];return n!=null&&n.statusRender&&m.name?(0,F.jsx)(J,{name:m.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:d,onOpenChange:u,children:(0,F.jsx)(A.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,I.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(g){var r;n==null||(r=n.onBlur)===null||r===void 0||r.call(n,g),u(!1)},onClick:function(g){var r;n==null||(r=n.onClick)===null||r===void 0||r.call(n,g),u(!0)}}),proFieldProps:a,filedConfig:{valueType:R}},m))}):(0,F.jsx)(A.Z,(0,s.Z)({valueType:"password",fieldProps:n,proFieldProps:a,filedConfig:{valueType:R}},m))},L=G;L.Password=y,L.displayName="ProFormComponent",D.Z=L},2360:function(k,D,e){e.d(D,{A:function(){return v}});var l=e(27789),s=e(91031),i=e(98404),P=e(83436),h=e(49275),j=e(32720),I=e(73068),M=e(86588),A=e(70978),F=e(67098),W=e(47729),V=e(64210),R=e(26869),G=e.n(R),J=e(25632),y=e(49489),L=e(42017),E=function(u){return(0,j.Z)({},u.componentCls,{"&-title":{marginBlockEnd:u.marginXL,fontWeight:"bold"},"&-container":(0,j.Z)({flexWrap:"wrap",maxWidth:"100%"},"> div".concat(u.antCls,"-space-item"),{maxWidth:"100%"}),"&-twoLine":(0,j.Z)((0,j.Z)((0,j.Z)((0,j.Z)({display:"block",width:"100%"},"".concat(u.componentCls,"-title"),{width:"100%",margin:"8px 0"}),"".concat(u.componentCls,"-container"),{paddingInlineStart:16}),"".concat(u.antCls,"-space-item,").concat(u.antCls,"-form-item"),{width:"100%"}),"".concat(u.antCls,"-form-item"),{"&-control":{display:"flex",alignItems:"center",justifyContent:"flex-end","&-input":{alignItems:"center",justifyContent:"flex-end","&-content":{flex:"none"}}}})})};function t(d){return(0,L.Xj)("ProFormGroup",function(u){var Z=(0,l.Z)((0,l.Z)({},u),{},{componentCls:".".concat(d)});return[E(Z)]})}var n=e(36422),a=i.forwardRef(function(d,u){var Z=i.useContext(J.Z),g=Z.groupProps,r=(0,l.Z)((0,l.Z)({},g),d),q=r.children,z=r.collapsible,$=r.defaultCollapsed,re=r.style,b=r.labelLayout,p=r.title,U=p===void 0?d.label:p,B=r.tooltip,f=r.align,H=f===void 0?"start":f,Q=r.direction,O=r.size,o=O===void 0?32:O,x=r.titleStyle,T=r.titleRender,c=r.spaceProps,S=r.extra,_=r.autoFocus,le=(0,A.Z)(function(){return $||!1},{value:d.collapsed,onChange:d.onCollapse}),Y=(0,I.Z)(le,2),N=Y[0],K=Y[1],te=(0,i.useContext)(W.ZP.ConfigContext),ie=te.getPrefixCls,ue=(0,y.zx)(d),de=ue.ColWrapper,ee=ue.RowWrapper,w=ie("pro-form-group"),oe=t(w),Pe=oe.wrapSSR,se=oe.hashId,ve=z&&(0,n.jsx)(M.Z,{style:{marginInlineEnd:8},rotate:N?void 0:90}),pe=(0,n.jsx)(F.G,{label:ve?(0,n.jsxs)("div",{children:[ve,U]}):U,tooltip:B}),fe=(0,i.useCallback)(function(ne){var ae=ne.children;return(0,n.jsx)(V.Z,(0,l.Z)((0,l.Z)({},c),{},{className:G()("".concat(w,"-container ").concat(se),c==null?void 0:c.className),size:o,align:H,direction:Q,style:(0,l.Z)({rowGap:0},c==null?void 0:c.style),children:ae}))},[H,w,Q,se,o,c]),me=T?T(pe,d):pe,Ce=(0,i.useMemo)(function(){var ne=[],ae=i.Children.toArray(q).map(function(X,xe){var ce;return i.isValidElement(X)&&X!==null&&X!==void 0&&(ce=X.props)!==null&&ce!==void 0&&ce.hidden?(ne.push(X),null):xe===0&&i.isValidElement(X)&&_?i.cloneElement(X,(0,l.Z)((0,l.Z)({},X.props),{},{autoFocus:_})):X});return[(0,n.jsx)(ee,{Wrapper:fe,children:ae},"children"),ne.length>0?(0,n.jsx)("div",{style:{display:"none"},children:ne}):null]},[q,ee,fe,_]),he=(0,I.Z)(Ce,2),Ee=he[0],ge=he[1];return Pe((0,n.jsx)(de,{children:(0,n.jsxs)("div",{className:G()(w,se,(0,j.Z)({},"".concat(w,"-twoLine"),b==="twoLine")),style:re,ref:u,children:[ge,(U||B||S)&&(0,n.jsx)("div",{className:"".concat(w,"-title ").concat(se).trim(),style:x,onClick:function(){K(!N)},children:S?(0,n.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[me,(0,n.jsx)("span",{onClick:function(ae){return ae.stopPropagation()},children:S})]}):me}),(0,n.jsx)("div",{style:{display:z&&N?"none":void 0},children:Ee})]})}))});a.displayName="ProForm-Group";var m=a,C=e(14724);function v(d){return(0,n.jsx)(P.I,(0,l.Z)({layout:"vertical",contentRender:function(Z,g){return(0,n.jsxs)(n.Fragment,{children:[Z,g]})}},d))}v.Group=m,v.useForm=s.Z.useForm,v.Item=C.Z,v.useWatch=s.Z.useWatch,v.ErrorList=s.Z.ErrorList,v.Provider=s.Z.Provider,v.useFormInstance=s.Z.useFormInstance,v.EditOrReadOnlyContext=h.A},67098:function(k,D,e){e.d(D,{G:function(){return L}});var l=e(27789),s=e(32720),i=e(14399),P=e(98404),h=e(34843),j=e(57028),I=function(t,n){return P.createElement(j.Z,(0,i.Z)({},t,{ref:n,icon:h.Z}))},M=P.forwardRef(I),A=e(47729),F=e(30879),W=e(26869),V=e.n(W),R=e(42017),G=function(t){return(0,s.Z)({},t.componentCls,{display:"inline-flex",alignItems:"center",maxWidth:"100%","&-icon":{display:"block",marginInlineStart:"4px",cursor:"pointer","&:hover":{color:t.colorPrimary}},"&-title":{display:"inline-flex",flex:"1"},"&-subtitle ":{marginInlineStart:8,color:t.colorTextSecondary,fontWeight:"normal",fontSize:t.fontSize,whiteSpace:"nowrap"},"&-title-ellipsis":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",wordBreak:"keep-all"}})};function J(E){return(0,R.Xj)("LabelIconTip",function(t){var n=(0,l.Z)((0,l.Z)({},t),{},{componentCls:".".concat(E)});return[G(n)]})}var y=e(36422),L=P.memo(function(E){var t=E.label,n=E.tooltip,a=E.ellipsis,m=E.subTitle,C=(0,P.useContext)(A.ZP.ConfigContext),v=C.getPrefixCls,d=v("pro-core-label-tip"),u=J(d),Z=u.wrapSSR,g=u.hashId;if(!n&&!m)return(0,y.jsx)(y.Fragment,{children:t});var r=typeof n=="string"||P.isValidElement(n)?{title:n}:n,q=(r==null?void 0:r.icon)||(0,y.jsx)(M,{});return Z((0,y.jsxs)("div",{className:V()(d,g),onMouseDown:function($){return $.stopPropagation()},onMouseLeave:function($){return $.stopPropagation()},onMouseMove:function($){return $.stopPropagation()},children:[(0,y.jsx)("div",{className:V()("".concat(d,"-title"),g,(0,s.Z)({},"".concat(d,"-title-ellipsis"),a)),children:t}),m&&(0,y.jsx)("div",{className:"".concat(d,"-subtitle ").concat(g).trim(),children:m}),n&&(0,y.jsx)(F.Z,(0,l.Z)((0,l.Z)({},r),{},{children:(0,y.jsx)("span",{className:"".concat(d,"-icon ").concat(g).trim(),children:q})}))]}))})},97910:function(k,D,e){e.r(D),e.d(D,{default:function(){return re}});var l=e(43953),s=e.n(l),i=e(91184),P=e.n(i),h=e(98404),j=e(2360),I=e(4341),M=e(83322),A=e(27789),F=e(9169),W=e(14399),V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},R=V,G=e(57028),J=function(p,U){return h.createElement(G.Z,(0,W.Z)({},p,{ref:U,icon:R}))},y=h.forwardRef(J),L=e(19288),E=e(62656),t=e(49275),n=e(58707),a=e(36422),m=["fieldProps","action","accept","listType","title","max","icon","buttonProps","disabled","proFieldProps"],C=function(p,U){var B,f=p.fieldProps,H=p.action,Q=p.accept,O=p.listType,o=p.title,x=o===void 0?"\u5355\u51FB\u4E0A\u4F20":o,T=p.max,c=p.icon,S=c===void 0?(0,a.jsx)(y,{}):c,_=p.buttonProps,le=p.disabled,Y=p.proFieldProps,N=(0,F.Z)(p,m),K=(0,h.useMemo)(function(){var ee;return(ee=N.fileList)!==null&&ee!==void 0?ee:N.value},[N.fileList,N.value]),te=(0,h.useContext)(t.A),ie=(Y==null?void 0:Y.mode)||te.mode||"edit",ue=(T===void 0||!K||(K==null?void 0:K.length)<T)&&ie!=="read",de=(O!=null?O:f==null?void 0:f.listType)==="picture-card";return(0,a.jsx)(L.Z,(0,A.Z)((0,A.Z)({action:H,accept:Q,ref:U,listType:O||"picture",fileList:K},f),{},{name:(B=f==null?void 0:f.name)!==null&&B!==void 0?B:"file",onChange:function(w){var oe;f==null||(oe=f.onChange)===null||oe===void 0||oe.call(f,w)},children:ue&&(de?(0,a.jsxs)("span",{children:[S," ",x]}):(0,a.jsxs)(E.ZP,(0,A.Z)((0,A.Z)({disabled:le||(f==null?void 0:f.disabled)},_),{},{children:[S,x]})))}))},v=(0,n.G)(h.forwardRef(C),{getValueFromEvent:function(p){return p.fileList}}),d=v,u=e(29612),Z=e(23759),g=e(1993),r=e(77662),q=e(55074),z=e(53631),$=function(p){var U=u.rV(q.s.PROJECT_ID),B=(0,z.md)(),f=(0,g.ZP)(function(O){var o;return{projectDispatch:O.dispatch,profile:(o=O.project)===null||o===void 0||(o=o.projectJSON)===null||o===void 0?void 0:o.profile}},r.Z),H=f.projectDispatch,Q=f.profile;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(j.A,{initialValues:Q,onFinish:function(){var O=P()(s()().mark(function o(x){return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,H.updateProfile(x);case 2:return c.abrupt("return",!0);case 3:case"end":return c.stop()}},o)}));return function(o){return O.apply(this,arguments)}}(),children:[(0,a.jsx)(I.Z.Password,{width:"lg",label:"ERD\u79D8\u94A5",extra:"\u4EC5\u7528\u4E8EERD\u5BFC\u5165\u5BFC\u51FA\u52A0\u5BC6\u89E3\u5BC6",name:"erdPassword",placeholder:"\u9ED8\u8BA4\u4E3AERDOnline"}),(0,a.jsx)(I.Z,{width:"lg",name:"sqlConfig",label:"SQL\u5206\u9694\u7B26",extra:"\u5206\u9694\u6BCF\u6761\u5F80\u6570\u636E\u5E93\u6267\u884C\u7684SQL",placeholder:"\u9ED8\u8BA4\u4E3A/*SQL@Run*/",formItemProps:{rules:[{max:100,message:"\u4E0D\u80FD\u5927\u4E8E 100 \u4E2A\u5B57\u7B26"}]}}),(0,a.jsx)(I.Z,{width:"lg",name:"moduleNameFormat",label:"\u5143\u6570\u636E->\u6A21\u5757\u540D\u663E\u793A\u683C\u5F0F",extra:"\u6A21\u578B->\u5143\u6570\u636E\u4E2D\uFF0C\u6A21\u5757\u540D\u79F0\u663E\u793A\u683C\u5F0F\uFF1A{name}\u663E\u793A\u82F1\u6587\u540D\uFF0C{chnname}\u663E\u793A\u4E2D\u6587\u540D\uFF0C{name} {chnname}\u4E3A\u82F1\u6587\u548C\u4E2D\u6587\u7684\u7EC4\u5408\u540D",placeholder:"\u9ED8\u8BA4\u4E3A {name} {chnname}",formItemProps:{rules:[{max:100,message:"\u4E0D\u80FD\u5927\u4E8E 100 \u4E2A\u5B57\u7B26"}]}}),(0,a.jsx)(I.Z,{width:"lg",name:"tableNameFormat",label:"\u5143\u6570\u636E->\u8868\u540D\u663E\u793A\u683C\u5F0F",extra:"\u6A21\u578B->\u5143\u6570\u636E\u4E2D\uFF0C\u8868\u540D\u79F0\u663E\u793A\u683C\u5F0F\uFF1A{title}\u663E\u793A\u82F1\u6587\u540D\uFF0C{chnname}\u663E\u793A\u4E2D\u6587\u540D\uFF0C{title} {chnname}\u4E3A\u82F1\u6587\u548C\u4E2D\u6587\u7684\u7EC4\u5408\u540D",placeholder:"\u9ED8\u8BA4\u4E3A {title} {chnname}",formItemProps:{rules:[{max:100,message:"\u4E0D\u80FD\u5927\u4E8E 100 \u4E2A\u5B57\u7B26"}]}}),(0,a.jsxs)(M.Z,{label:"WORD\u6A21\u677F\u914D\u7F6E",extra:"\u9ED8\u8BA4\u4E3A\u7CFB\u7EDF\u81EA\u5E26\u7684\u6A21\u677F\uFF0C\u5982\u9700\u4FEE\u6539\uFF0C\u8BF7\u5148\u4E0B\u8F7D\uFF0C\u518D\u91CD\u65B0\u4E0A\u4F20\u6A21\u677F\u6587\u4EF6",children:[(0,a.jsx)(z.Nv,{accessible:B.canErdDocUploadwordtemplate,fallback:(0,a.jsx)(a.Fragment,{}),children:(0,a.jsx)(d,{max:1,name:"wordTemplateConfig",fieldProps:{name:"file",headers:{Authorization:"Bearer 1"},onChange:function(o){if(o.file.status=="done")if(o.file.response.code==200)H.updateWordTemplateConfig(o.file.response.data);else{var x;Z.ZP.error((x=o.file.response.msg)!==null&&x!==void 0?x:"\u4E0A\u4F20\u5931\u8D25")}else o.file.status=="error"&&Z.ZP.error("\u4E0A\u4F20\u5931\u8D25")}},action:"".concat("http://192.168.241.106:8083","/ncnb/doc/uploadWordTemplate/").concat(U)})}),(0,a.jsx)(z.Nv,{accessible:B.canErdDocDownloadwordtemplate,fallback:(0,a.jsx)(a.Fragment,{}),children:(0,a.jsx)(E.ZP,{title:"\u4E0B\u8F7D\u6A21\u677F",onClick:function(){return H.downloadWordTemplate()},children:"\u4E0B\u8F7D\u6A21\u677F"})})]})]})})},re=h.memo($)},19288:function(k,D,e){var l=e(86916),s=e(53288);const i=s.Z;i.Dragger=l.Z,i.LIST_IGNORE=s.E,D.Z=i},77662:function(k,D,e){e.d(D,{Z:function(){return l}});function l(s,i){if(Object.is(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;const P=Object.keys(s);if(P.length!==Object.keys(i).length)return!1;for(let h=0;h<P.length;h++)if(!Object.prototype.hasOwnProperty.call(i,P[h])||!Object.is(s[P[h]],i[P[h]]))return!1;return!0}}}]);
