"use strict";(self.webpackChunkInvocationlab_ERD_Online=self.webpackChunkInvocationlab_ERD_Online||[]).push([[8522],{99378:function(I,m,n){n.d(m,{Z:function(){return S}});var p=n(14399),d=n(98404),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},v=u,r=n(57028),E=function(g,D){return d.createElement(r.Z,(0,p.Z)({},g,{ref:D,icon:v}))},S=d.forwardRef(E)},98751:function(I,m,n){n.d(m,{Z:function(){return J}});var p=n(98404),d=n(62171),u=n.n(d),v=n(44766),r=n.n(v),E=n(51947),S=n(53643),P=n(9368),g=n(1993),D=n(77662),M=n(23759),O=n(29167),h=n(6088),f=n(36422),A=function(j){var C=(0,g.ZP)(function(l){var e,o;return{syncing:l.syncing,setSyncing:l.dispatch.setSyncing,datatype:(e=l.project)===null||e===void 0||(e=e.projectJSON)===null||e===void 0||(e=e.dataTypeDomains)===null||e===void 0?void 0:e.datatype,database:(o=l.project)===null||o===void 0||(o=o.projectJSON)===null||o===void 0||(o=o.dataTypeDomains)===null||o===void 0?void 0:o.database}},D.Z),T=C.syncing,y=C.setSyncing,i=C.datatype,s=C.database,z=j.data,B=j.columns,Y=j.saveData,V=j.notEmptyColumn,x=function(e){T||!e||e.length===0||(V&&(e=r().reject(e,function(o){var c=r().findIndex(V,function(a){return!o[a]||o[a]==""});return c>-1})),Y(e))},t=(0,p.useRef)(null),b=[{title:"\u590D\u5236",description:"Windows\uFF1ACtrl + C              |             Mac\uFF1Acommand + C"},{title:"\u7C98\u8D34",description:"Windows\uFF1ACtrl + V              |             Mac\uFF1Acommand + V"},{title:"\u526A\u5207",description:"Windows\uFF1ACtrl + X              |             Mac\uFF1Acommand + X"},{title:"\u64A4\u9500",description:"Windows\uFF1ACtrl + Z              |            Mac\uFF1Acommand + Z"},{title:"\u91CD\u505A",description:"Windows\uFF1ACtrl + Shit + Z              |            Mac\uFF1Acommand + Shit + Z"}],L={data:z,columns:B,allowExport:!1,minDimensions:[1,1],csvHeaders:!0,columnResize:!0,search:!0,toolbar:[{type:"i",content:"undo",tooltip:"\u64A4\u9500",onclick:function(){var e;t==null||(e=t.current)===null||e===void 0||e.jexcel.undo()}},{type:"i",content:"redo",tooltip:"\u91CD\u505A",onclick:function(){var e;t==null||(e=t.current)===null||e===void 0||e.jexcel.redo()}},{type:"i",content:"add",tooltip:"\u672B\u5C3E\u589E\u52A0\u4E00\u884C",onclick:function(){var e;t==null||(e=t.current)===null||e===void 0||e.jexcel.insertRow()}},{type:"i",content:"remove",tooltip:"\u5220\u9664\u9009\u4E2D\u884C",onclick:function(){var e;t==null||(e=t.current)===null||e===void 0||e.jexcel.deleteRow()}},{type:"i",content:"publish",tooltip:"\u5728\u6B64\u524D\u63D2\u5165\u884C",onclick:function(){var e,o,c,a=t==null||(e=t.current)===null||e===void 0?void 0:e.jexcel.getSelectedRows();if(!a||!((o=a[0])!==null&&o!==void 0&&o.dataset)){M.ZP.warning("\u672A\u9009\u4E2D\u884C");return}t==null||(c=t.current)===null||c===void 0||c.jexcel.insertRow(1,parseInt(a[0].dataset.y),1)}},{type:"i",content:"get_app",tooltip:"\u5728\u6B64\u540E\u63D2\u5165\u884C",onclick:function(){var e,o,c,a=t==null||(e=t.current)===null||e===void 0?void 0:e.jexcel.getSelectedRows();if(!a||!((o=a[a.length-1])!==null&&o!==void 0&&o.dataset)){M.ZP.warning("\u672A\u9009\u4E2D\u884C");return}t==null||(c=t.current)===null||c===void 0||c.jexcel.insertRow(1,parseInt(a[a.length-1].dataset.y))}},{type:"i",content:"help_outline",tooltip:"\u5FEB\u6377\u64CD\u4F5C",onclick:function(){O.Z.info({title:"\u5FEB\u6377\u64CD\u4F5C",width:500,content:(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(h.Z,{itemLayout:"horizontal",dataSource:b,renderItem:function(o){return(0,f.jsx)(h.Z.Item,{children:(0,f.jsx)(h.Z.Item.Meta,{title:(0,f.jsx)("a",{href:"https://ant.design",children:o.title}),description:o.description})})}})})})}}],text:{noRecordsFound:"\u672A\u627E\u5230",showingPage:"\u663E\u793A {1} \u6761\u4E2D\u7684\u7B2C {0} \u6761",show:"\u663E\u793A ",search:"\u641C\u7D22",entries:" \u6761\u76EE",columnName:"\u5217\u6807\u9898",insertANewColumnBefore:"\u5728\u6B64\u524D\u63D2\u5165\u5217",insertANewColumnAfter:"\u5728\u6B64\u540E\u63D2\u5165\u5217",deleteSelectedColumns:"\u5220\u9664\u9009\u5B9A\u5217",renameThisColumn:"\u91CD\u547D\u540D\u5217",orderAscending:"\u5347\u5E8F",orderDescending:"\u964D\u5E8F",insertANewRowBefore:"\u5728\u6B64\u524D\u63D2\u5165\u884C",insertANewRowAfter:"\u5728\u6B64\u540E\u63D2\u5165\u884C",deleteSelectedRows:"\u5220\u9664\u9009\u5B9A\u884C",editComments:"\u7F16\u8F91\u6279\u6CE8",addComments:"\u63D2\u5165\u6279\u6CE8",comments:"\u6279\u6CE8",clearComments:"\u5220\u9664\u6279\u6CE8",copy:"\u590D\u5236...",paste:"\u7C98\u8D34...",saveAs:"\u4FDD\u5B58\u4E3A...",about:"\u5173\u4E8E",areYouSureToDeleteTheSelectedRows:"\u786E\u5B9A\u5220\u9664\u9009\u5B9A\u884C?",areYouSureToDeleteTheSelectedColumns:"\u786E\u5B9A\u5220\u9664\u9009\u5B9A\u5217?",thisActionWillDestroyAnyExistingMergedCellsAreYouSure:"\u8FD9\u4E00\u64CD\u4F5C\u4F1A\u7834\u574F\u6240\u6709\u73B0\u5B58\u7684\u5408\u5E76\u5355\u5143\u683C\uFF0C\u786E\u8BA4\u64CD\u4F5C\uFF1F",thisActionWillClearYourSearchResultsAreYouSure:"\u8FD9\u4E00\u64CD\u4F5C\u4F1A\u6E05\u7A7A\u641C\u7D22\u7ED3\u679C\uFF0C\u786E\u8BA4\u64CD\u4F5C\uFF1F",thereIsAConflictWithAnotherMergedCell:"\u4E0E\u5176\u4ED6\u5408\u5E76\u5355\u5143\u683C\u6709\u51B2\u7A81",invalidMergeProperties:"\u65E0\u6548\u7684\u5408\u5E76\u5C5E\u6027",cellAlreadyMerged:"\u5355\u5143\u683C\u5DF2\u5408\u5E76",noCellsSelected:"\u672A\u9009\u5B9A\u5355\u5143\u683C"},about:!1,updateTable:function(e,o,c,a,k,Z,N){o.title=k},onchange:function(e,o,c,a,k){var Z,N,G=t==null||(Z=t.current)===null||Z===void 0?void 0:Z.jexcel.getRowData(a),W=r().find(i,{name:k}),F=r().find(s,{defaultDatabase:!0}).code||s[0].code,U=r().get(W,"code"),H="apply.".concat(F,".type"),K=r().get(W,H);if(W&&F&&U&&K){var w,R;t==null||(w=t.current)===null||w===void 0||(w=w.jexcel)===null||w===void 0||w.setValueFromCoords(Number(c)+1,a,U,!0),t==null||(R=t.current)===null||R===void 0||(R=R.jexcel)===null||R===void 0||R.setValueFromCoords(Number(c)+2,a,K,!0)}x(t==null||(N=t.current)===null||N===void 0?void 0:N.jexcel.getJson())},oninsertrow:function(){},ondeleterow:function(){var e;x(t==null||(e=t.current)===null||e===void 0?void 0:e.jexcel.getJson())},onmoverow:function(){var e;x(t==null||(e=t.current)===null||e===void 0?void 0:e.jexcel.getJson())},onpaste:function(){var e;x(t==null||(e=t.current)===null||e===void 0?void 0:e.jexcel.getJson())},onundo:function(){var e;x(t==null||(e=t.current)===null||e===void 0?void 0:e.jexcel.getJson())},onredo:function(){var e;x(t==null||(e=t.current)===null||e===void 0?void 0:e.jexcel.getJson())}};(0,p.useEffect)(function(){t.current.jspreadsheet||u()(t.current,L)},[L]),(0,p.useEffect)(function(){},[j.data]);var X=function(){var e;t==null||(e=t.current)===null||e===void 0||e.jexcel.insertRow()};return(0,f.jsx)("div",{ref:t,style:{fontSize:12,width:"100%"}})},J=A},61309:function(I,m,n){n.r(m),n.d(m,{column1:function(){return P},column2:function(){return g},emptyValidator:function(){return S}});var p=n(98404),d=n(1993),u=n(77662),v=n(23759),r=n(98751),E=n(36422),S=function(O,h){!O||O.length===0?(v.ZP.error("\u5F53\u524D\u7F16\u8F91\u9879\u4E0D\u5141\u8BB8\u4E3A\u7A7A"),h(!1)):h(!0)},P=[{title:"\u4E2D\u6587\u540D*",name:"chnname",type:"text",width:"220"},{title:"\u82F1\u6587\u540D*",name:"name",type:"text",width:"150"}],g=[{title:"\u7C7B\u578B(code)",name:"type",type:"text",width:"100",readOnly:!0},{title:"\u6570\u636E\u6E90\u7C7B\u578B",name:"dataType",type:"text",width:"120",readOnly:!0},{title:"\u8BF4\u660E",name:"remark",type:"text",width:"50"},{title:"\u4E3B\u952E",name:"pk",type:"checkbox",width:"40"},{title:"\u975E\u7A7A",name:"notNull",type:"checkbox",width:"40"},{title:"\u81EA\u589E",name:"autoIncrement",type:"checkbox",width:"40"},{title:"\u5728\u5173\u7CFB\u56FE\u4E2D\u9690\u85CF",name:"relationNoShow",type:"checkbox",width:"100"},{title:"\u9ED8\u8BA4\u503C",name:"defaultValue",type:"text",width:"60"},{title:"UI\u5EFA\u8BAE",name:"uiHint",type:"dropdown",width:"70",source:["Text","Number","Money","Select","Radio","CheckBox","Email","URL","DatePicker","TextArea","AddressPicker"]}],D=function(O){var h=(0,d.ZP)(function(y){var i,s;return{datatype:(i=y.project)===null||i===void 0||(i=i.projectJSON)===null||i===void 0||(i=i.dataTypeDomains)===null||i===void 0?void 0:i.datatype,database:(s=y.project)===null||s===void 0||(s=s.projectJSON)===null||s===void 0||(s=s.dataTypeDomains)===null||s===void 0?void 0:s.database,projectDispatch:y.dispatch}},u.Z),f=h.datatype,A=h.projectDispatch,J=f==null?void 0:f.map(function(y){return y.name}),$=JSON.stringify(A.getDefaultFields().filter(function(y){return y!=null})||[]),j=JSON.parse($),C=function(i){A.updateDefaultFields(i)},T=[].concat(P,[{title:"\u7C7B\u578B*",name:"typeName",type:"dropdown",source:J,width:"150"}],g);return(0,E.jsx)(r.Z,{data:j,columns:T,saveData:C,notEmptyColumn:["chnname","name","typeName"]})};m.default=p.memo(D)},77662:function(I,m,n){n.d(m,{Z:function(){return p}});function p(d,u){if(Object.is(d,u))return!0;if(typeof d!="object"||d===null||typeof u!="object"||u===null)return!1;const v=Object.keys(d);if(v.length!==Object.keys(u).length)return!1;for(let r=0;r<v.length;r++)if(!Object.prototype.hasOwnProperty.call(u,v[r])||!Object.is(d[v[r]],u[v[r]]))return!1;return!0}}}]);
